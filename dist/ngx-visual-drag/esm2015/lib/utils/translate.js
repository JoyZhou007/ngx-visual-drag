// 角度转弧度
// Math.PI = 180 度
function angleToRadian(angle) {
    return angle * Math.PI / 180;
}
/**
 * 计算根据圆心旋转后的点的坐标
 * @param   {Object}  point  旋转前的点坐标
 * @param   {Object}  center 旋转中心
 * @param   {Number}  rotate 旋转的角度
 * @return  {Object}         旋转后的坐标
 * https://www.zhihu.com/question/67425734/answer/252724399 旋转矩阵公式
 */
export function calculateRotatedPointCoordinate(point, center, rotate) {
    /**
     * 旋转公式：
     *  点a(x, y)
     *  旋转中心c(x, y)
     *  旋转后点n(x, y)
     *  旋转角度θ                tan ??
     * nx = cosθ * (ax - cx) - sinθ * (ay - cy) + cx
     * ny = sinθ * (ax - cx) + cosθ * (ay - cy) + cy
     */
    return {
        x: (point.x - center.x) * Math.cos(angleToRadian(rotate)) - (point.y - center.y) * Math.sin(angleToRadian(rotate)) + center.x,
        y: (point.x - center.x) * Math.sin(angleToRadian(rotate)) + (point.y - center.y) * Math.cos(angleToRadian(rotate)) + center.y,
    };
}
/**
 * 获取旋转后的点坐标（八个点之一）
 * @param  {Object} style  样式
 * @param  {Object} center 组件中心点
 * @param  {String} name   点名称
 * @return {Object}        旋转后的点坐标
 */
export function getRotatedPointCoordinate(style, center, name) {
    let point; // point 是未旋转前的坐标
    switch (name) {
        case 't':
            point = {
                x: style.left + (style.width / 2),
                y: style.top,
            };
            break;
        case 'b':
            point = {
                x: style.left + (style.width / 2),
                y: style.top + style.height,
            };
            break;
        case 'l':
            point = {
                x: style.left,
                y: style.top + style.height / 2,
            };
            break;
        case 'r':
            point = {
                x: style.left + style.width,
                y: style.top + style.height / 2,
            };
            break;
        case 'lt':
            point = {
                x: style.left,
                y: style.top,
            };
            break;
        case 'rt':
            point = {
                x: style.left + style.width,
                y: style.top,
            };
            break;
        case 'lb':
            point = {
                x: style.left,
                y: style.top + style.height,
            };
            break;
        default: // rb
            point = {
                x: style.left + style.width,
                y: style.top + style.height,
            };
            break;
    }
    return calculateRotatedPointCoordinate(point, center, style.rotate);
}
// 求两点之间的中点坐标
export function getCenterPoint(p1, p2) {
    return {
        x: p1.x + ((p2.x - p1.x) / 2),
        y: p1.y + ((p2.y - p1.y) / 2),
    };
}
export function sin(rotate) {
    return Math.abs(Math.sin(angleToRadian(rotate)));
}
export function cos(rotate) {
    return Math.abs(Math.cos(angleToRadian(rotate)));
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidHJhbnNsYXRlLmpzIiwic291cmNlUm9vdCI6Ii4uLy4uLy4uL3Byb2plY3RzL25neC12aXN1YWwtZHJhZy9zcmMvIiwic291cmNlcyI6WyJsaWIvdXRpbHMvdHJhbnNsYXRlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLFFBQVE7QUFDUixrQkFBa0I7QUFDbEIsU0FBUyxhQUFhLENBQUMsS0FBSztJQUN4QixPQUFPLEtBQUssR0FBRyxJQUFJLENBQUMsRUFBRSxHQUFHLEdBQUcsQ0FBQTtBQUNoQyxDQUFDO0FBRUQ7Ozs7Ozs7R0FPRztBQUNILE1BQU0sVUFBVSwrQkFBK0IsQ0FBQyxLQUFLLEVBQUUsTUFBTSxFQUFFLE1BQU07SUFDakU7Ozs7Ozs7O09BUUc7SUFFSCxPQUFPO1FBQ0gsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUMsR0FBRyxNQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxhQUFhLENBQUMsTUFBTSxDQUFDLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDLEdBQUcsTUFBTSxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsYUFBYSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsTUFBTSxDQUFDLENBQUM7UUFDN0gsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUMsR0FBRyxNQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxhQUFhLENBQUMsTUFBTSxDQUFDLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDLEdBQUcsTUFBTSxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsYUFBYSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsTUFBTSxDQUFDLENBQUM7S0FDaEksQ0FBQTtBQUNMLENBQUM7QUFFRDs7Ozs7O0dBTUc7QUFDSCxNQUFNLFVBQVUseUJBQXlCLENBQUMsS0FBSyxFQUFFLE1BQU0sRUFBRSxJ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QWEsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUE7QUFDcEQsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8vIOinkuW6pui9rOW8p+W6plxyXG4vLyBNYXRoLlBJID0gMTgwIOW6plxyXG5mdW5jdGlvbiBhbmdsZVRvUmFkaWFuKGFuZ2xlKSB7XHJcbiAgICByZXR1cm4gYW5nbGUgKiBNYXRoLlBJIC8gMTgwXHJcbn1cclxuXHJcbi8qKlxyXG4gKiDorqHnrpfmoLnmja7lnIblv4Pml4vovazlkI7nmoTngrnnmoTlnZDmoIdcclxuICogQHBhcmFtICAge09iamVjdH0gIHBvaW50ICDml4vovazliY3nmoTngrnlnZDmoIdcclxuICogQHBhcmFtICAge09iamVjdH0gIGNlbnRlciDml4vovazkuK3lv4NcclxuICogQHBhcmFtICAge051bWJlcn0gIHJvdGF0ZSDml4vovaznmoTop5LluqZcclxuICogQHJldHVybiAge09iamVjdH0gICAgICAgICDml4vovazlkI7nmoTlnZDmoIdcclxuICogaHR0cHM6Ly93d3cuemhpaHUuY29tL3F1ZXN0aW9uLzY3NDI1NzM0L2Fuc3dlci8yNTI3MjQzOTkg5peL6L2s55+p6Zi15YWs5byPXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gY2FsY3VsYXRlUm90YXRlZFBvaW50Q29vcmRpbmF0ZShwb2ludCwgY2VudGVyLCByb3RhdGUpIHtcclxuICAgIC8qKlxyXG4gICAgICog5peL6L2s5YWs5byP77yaXHJcbiAgICAgKiAg54K5YSh4LCB5KVxyXG4gICAgICogIOaXi+i9rOS4reW/g2MoeCwgeSlcclxuICAgICAqICDml4vovazlkI7ngrluKHgsIHkpXHJcbiAgICAgKiAg5peL6L2s6KeS5bqmzrggICAgICAgICAgICAgICAgdGFuID8/XHJcbiAgICAgKiBueCA9IGNvc864ICogKGF4IC0gY3gpIC0gc2luzrggKiAoYXkgLSBjeSkgKyBjeFxyXG4gICAgICogbnkgPSBzaW7OuCAqIChheCAtIGN4KSArIGNvc864ICogKGF5IC0gY3kpICsgY3lcclxuICAgICAqL1xyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgeDogKHBvaW50LnggLSBjZW50ZXIueCkgKiBNYXRoLmNvcyhhbmdsZVRvUmFkaWFuKHJvdGF0ZSkpIC0gKHBvaW50LnkgLSBjZW50ZXIueSkgKiBNYXRoLnNpbihhbmdsZVRvUmFkaWFuKHJvdGF0ZSkpICsgY2VudGVyLngsXHJcbiAgICAgICAgeTogKHBvaW50LnggLSBjZW50ZXIueCkgKiBNYXRoLnNpbihhbmdsZVRvUmFkaWFuKHJvdGF0ZSkpICsgKHBvaW50LnkgLSBjZW50ZXIueSkgKiBNYXRoLmNvcyhhbmdsZVRvUmFkaWFuKHJvdGF0ZSkpICsgY2VudGVyLnksXHJcbiAgICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDojrflj5bml4vovazlkI7nmoTngrnlnZDmoIfvvIjlhavkuKrngrnkuYvkuIDvvIlcclxuICogQHBhcmFtICB7T2JqZWN0fSBzdHlsZSAg5qC35byPXHJcbiAqIEBwYXJhbSAge09iamVjdH0gY2VudGVyIOe7hOS7tuS4reW/g+eCuVxyXG4gKiBAcGFyYW0gIHtTdHJpbmd9IG5hbWUgICDngrnlkI3np7BcclxuICogQHJldHVybiB7T2JqZWN0fSAgICAgICAg5peL6L2s5ZCO55qE54K55Z2Q5qCHXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZ2V0Um90YXRlZFBvaW50Q29vcmRpbmF0ZShzdHlsZSwgY2VudGVyLCBuYW1lKSB7XHJcbiAgICBsZXQgcG9pbnQgLy8gcG9pbnQg5piv5pyq5peL6L2s5YmN55qE5Z2Q5qCHXHJcbiAgICBzd2l0Y2ggKG5hbWUpIHtcclxuICAgICAgICBjYXNlICd0JzpcclxuICAgICAgICAgICAgcG9pbnQgPSB7XHJcbiAgICAgICAgICAgICAgICB4OiBzdHlsZS5sZWZ0ICsgKHN0eWxlLndpZHRoIC8gMiksXHJcbiAgICAgICAgICAgICAgICB5OiBzdHlsZS50b3AsXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGJyZWFrXHJcbiAgICAgICAgY2FzZSAnYic6XHJcbiAgICAgICAgICAgIHBvaW50ID0ge1xyXG4gICAgICAgICAgICAgICAgeDogc3R5bGUubGVmdCArIChzdHlsZS53aWR0aCAvIDIpLFxyXG4gICAgICAgICAgICAgICAgeTogc3R5bGUudG9wICsgc3R5bGUuaGVpZ2h0LFxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBicmVha1xyXG4gICAgICAgIGNhc2UgJ2wnOlxyXG4gICAgICAgICAgICBwb2ludCA9IHtcclxuICAgICAgICAgICAgICAgIHg6IHN0eWxlLmxlZnQsXHJcbiAgICAgICAgICAgICAgICB5OiBzdHlsZS50b3AgKyBzdHlsZS5oZWlnaHQgLyAyLFxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBicmVha1xyXG4gICAgICAgIGNhc2UgJ3InOlxyXG4gICAgICAgICAgICBwb2ludCA9IHtcclxuICAgICAgICAgICAgICAgIHg6IHN0eWxlLmxlZnQgKyBzdHlsZS53aWR0aCxcclxuICAgICAgICAgICAgICAgIHk6IHN0eWxlLnRvcCArIHN0eWxlLmhlaWdodCAvIDIsXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGJyZWFrXHJcbiAgICAgICAgY2FzZSAnbHQnOlxyXG4gICAgICAgICAgICBwb2ludCA9IHtcclxuICAgICAgICAgICAgICAgIHg6IHN0eWxlLmxlZnQsXHJcbiAgICAgICAgICAgICAgICB5OiBzdHlsZS50b3AsXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGJyZWFrXHJcbiAgICAgICAgY2FzZSAncnQnOlxyXG4gICAgICAgICAgICBwb2ludCA9IHtcclxuICAgICAgICAgICAgICAgIHg6IHN0eWxlLmxlZnQgKyBzdHlsZS53aWR0aCxcclxuICAgICAgICAgICAgICAgIHk6IHN0eWxlLnRvcCxcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgYnJlYWtcclxuICAgICAgICBjYXNlICdsYic6XHJcbiAgICAgICAgICAgIHBvaW50ID0ge1xyXG4gICAgICAgICAgICAgICAgeDogc3R5bGUubGVmdCxcclxuICAgICAgICAgICAgICAgIHk6IHN0eWxlLnRvcCArIHN0eWxlLmhlaWdodCxcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgYnJlYWtcclxuICAgICAgICBkZWZhdWx0OiAvLyByYlxyXG4gICAgICAgICAgICBwb2ludCA9IHtcclxuICAgICAgICAgICAgICAgIHg6IHN0eWxlLmxlZnQgKyBzdHlsZS53aWR0aCxcclxuICAgICAgICAgICAgICAgIHk6IHN0eWxlLnRvcCsgc3R5bGUuaGVpZ2h0LFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBicmVha1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBjYWxjdWxhdGVSb3RhdGVkUG9pbnRDb29yZGluYXRlKHBvaW50LCBjZW50ZXIsIHN0eWxlLnJvdGF0ZSlcclxufVxyXG5cclxuLy8g5rGC5Lik54K55LmL6Ze055qE5Lit54K55Z2Q5qCHXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRDZW50ZXJQb2ludChwMSwgcDIpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgeDogcDEueCArICgocDIueCAtIHAxLngpIC8gMiksXHJcbiAgICAgICAgeTogcDEueSArICgocDIueSAtIHAxLnkpIC8gMiksXHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzaW4ocm90YXRlKSB7XHJcbiAgICByZXR1cm4gTWF0aC5hYnMoTWF0aC5zaW4oYW5nbGVUb1JhZGlhbihyb3RhdGUpKSlcclxufVxyXG4gIFxyXG5leHBvcnQgZnVuY3Rpb24gY29zKHJvdGF0ZSkge1xyXG4gICAgcmV0dXJuIE1hdGguYWJzKE1hdGguY29zKGFuZ2xlVG9SYWRpYW4ocm90YXRlKSkpXHJcbn0iXX0=