{"version":3,"file":"ngx-visual-drag.js","sources":["../../projects/ngx-visual-drag/src/lib/ngx-visual-drag.service.ts","../projects/ngx-visual-drag/src/lib/utils/generateID.ts","../projects/ngx-visual-drag/src/lib/utils/utils.ts","../esm2015/projects/ngx-visual-drag/src/lib/core/component/component-data.service.ts","../../projects/ngx-visual-drag/src/lib/ngx-visual-drag.component.ts","../esm2015/projects/ngx-visual-drag/src/lib/core/custom-component/component-list.ts","../esm2015/projects/ngx-visual-drag/src/lib/pages/home/home.component.ts","../esm2015/projects/ngx-visual-drag/src/lib/pages/toolbar/toolbar.component.ts","../esm2015/projects/ngx-visual-drag/src/lib/shared/shared/shared.module.ts","../esm2015/projects/ngx-visual-drag/src/lib/pages/component-list/component-list.component.ts","../projects/ngx-visual-drag/src/lib/utils/style.ts","../esm2015/projects/ngx-visual-drag/src/lib/pages/editor/editor.component.ts","../projects/ngx-visual-drag/src/lib/utils/translate.ts","../projects/ngx-visual-drag/src/lib/utils/calculateComponentPositonAndSize.ts","../esm2015/lib/projects/ngx-visual-drag/src/lib/pages/editor/shape/shape.component.ts","../esm2015/lib/projects/ngx-visual-drag/src/lib/pages/custom-component/v-button/v-button.component.ts","../esm2015/lib/projects/ngx-visual-drag/src/lib/pages/editor/context-menu/context-menu.component.ts","../esm2015/lib/projects/ngx-visual-drag/src/lib/pages/editor/markline/markline.component.ts","../esm2015/projects/ngx-visual-drag/src/lib/pages/attr-list/attr-list.component.ts","../esm2015/lib/projects/ngx-visual-drag/src/lib/pages/editor/preview/preview.component.ts","../esm2015/lib/projects/ngx-visual-drag/src/lib/pages/editor/component-wrapper/component-wrapper.component.ts","../../projects/ngx-visual-drag/src/lib/ngx-visual-drag.module.ts","../../../projects/ngx-visual-drag/src/public-api.ts","../../../projects/ngx-visual-drag/src/ngx-visual-drag.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class NgxVisualDragService {\n\n  constructor() { }\n}\n","let id = 0;\r\n// ä¸ºæ¯ä¸ªåç´ åå»ºä¸ä¸ªç¬ä¸æ äºç ID\r\nexport default function generateID() {\r\n  return id++;\r\n}\r\n","export function deepCopy(target) {\r\n  if (typeof target == 'object') {\r\n    const result = Array.isArray(target) ? [] : {};\r\n    for (const key in target) {\r\n      if (typeof target[key] == 'object') {\r\n        result[key] = deepCopy(target[key]);\r\n      } else {\r\n        result[key] = target[key];\r\n      }\r\n    }\r\n\r\n    return result;\r\n  }\r\n\r\n  return target;\r\n}\r\n\r\nexport function swap(arr, i, j) {\r\n  const temp = arr[i];\r\n  arr[i] = arr[j];\r\n  arr[j] = temp;\r\n}\r\n","import { Injectable } from '@angular/core';\nimport { NzMessageService } from 'ng-zorro-antd/message';\nimport { Subject } from 'rxjs';\nimport {\n  CanvasStyleData,\n  ComponentBaseStyle,\n  ComponentBaseData,\n  CopyData,\n  EditModeType,\n  StorageData,\n} from '../../types/component-type';\nimport generateID from '../../utils/generateID';\nimport { deepCopy, swap } from '../../utils/utils';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class ComponentDataService {\n  componentData: ComponentBaseData[] = []; // ç»å¸ç»ä»¶æ°æ®\n  canvasStyleData: CanvasStyleData = {\n    width: 1200,\n    height: 740,\n  }; // é¡µé¢å¨å±æ°æ®\n  curComponent: ComponentBaseData;\n  curComponentIndex: number;\n  $shapeStyle: Subject<ComponentBaseStyle> = new Subject();\n  contextmenu: {\n    show: boolean;\n    top: number;\n    left: number;\n  } = {\n    show: false,\n    top: 0,\n    left: 0,\n  }; // å³å»èåæ°æ®\n  snapshotData: Array<ComponentBaseData[]> = []; // ç¼è¾å¨å¿«ç§æ°æ®\n  snapshotIndex: number = -1; // å¿«ç§ç´¢å¼\n  notification: Subject<{\n    event: string;\n    value?: any;\n  }> = new Subject();\n  copyData: CopyData;\n  editMode: EditModeType;\n  $storageData = new Subject<StorageData>();\n  constructor(private message: NzMessageService) {\n    this.initData();\n    this.$shapeStyle.subscribe((x) => {\n      if (x.top) this.curComponent.style.top = x.top;\n      if (x.left) this.curComponent.style.left = x.left;\n      if (x.width) this.curComponent.style.width = x.width;\n      if (x.height) this.curComponent.style.height = x.height;\n      if (x.rotate) this.curComponent.style.rotate = x.rotate;\n    });\n  }\n\n  initData() {}\n\n  deleteCurComponent() {\n    this.componentData.splice(this.curComponentIndex, 1);\n  }\n\n  hideContextMenu() {\n    this.contextmenu = {\n      show: false,\n      top: 0,\n      left: 0,\n    };\n  }\n\n  upComponent() {\n    // ä¸ç§»å¾å± indexï¼è¡¨ç¤ºåç´ å¨æ°ç»ä¸­è¶å¾å\n    if (this.curComponentIndex < this.componentData.length - 1) {\n      swap(\n        this.componentData,\n        this.curComponentIndex,\n        this.curComponentIndex + 1\n      );\n    } else {\n      this.message.warning('å·²ç»å°é¡¶äº');\n    }\n  }\n\n  downComponent() {\n    // ä¸ç§»å¾å± indexï¼è¡¨ç¤ºåç´ å¨æ°ç»ä¸­è¶å¾å\n    if (this.curComponentIndex > 0) {\n      swap(\n        this.componentData,\n        this.curComponentIndex,\n        this.curComponentIndex - 1\n      );\n    } else {\n      this.message.warning('å·²ç»å°åºäº');\n    }\n  }\n\n  topComponent() {\n    // ç½®é¡¶\n    if (this.curComponentIndex < this.componentData.length - 1) {\n      swap(\n        this.componentData,\n        this.curComponentIndex,\n        this.componentData.length - 1\n      );\n    } else {\n      this.message.warning('å·²ç»å°é¡¶äº');\n    }\n  }\n\n  bottomComponent() {\n    // ç½®åº\n    if (this.curComponentIndex > 0) {\n      swap(this.componentData, this.curComponentIndex, 0);\n    } else {\n      this.message.warning('å·²ç»å°åºäº');\n    }\n  }\n\n  recordSnapshot() {\n    // æ·»å æ°çå¿«ç§\n    this.snapshotData[++this.snapshotIndex] = deepCopy(this.componentData);\n    // å¨ undo è¿ç¨ä¸­ï¼æ·»å æ°çå¿«ç§æ¶ï¼è¦å°å®åé¢çå¿«ç§æ¸çæ\n    if (this.snapshotIndex < this.snapshotData.length - 1) {\n      this.snapshotData = this.snapshotData.slice(0, this.snapshotIndex + 1);\n    }\n  }\n\n  undo() {\n    if (this.snapshotIndex >= 0) {\n      this.snapshotIndex--;\n      this.componentData =\n        deepCopy(this.snapshotData[this.snapshotIndex]) || [];\n    }\n  }\n\n  redo() {\n    if (this.snapshotIndex < this.snapshotData.length - 1) {\n      this.snapshotIndex++;\n      this.componentData =\n        deepCopy(this.snapshotData[this.snapshotIndex]) || [];\n    }\n  }\n\n  setShapePosStyle({ key, value }) {\n    this.curComponent.style[key] = value;\n  }\n\n  copy() {\n    this.copyData = {\n      data: deepCopy(this.curComponent),\n      index: this.curComponentIndex,\n    };\n  }\n\n  paste(isMouse) {\n    if (!this.copyData) {\n      this.message.warning('è¯·éæ©ç»ä»¶');\n      return;\n    }\n\n    const data = this.copyData.data;\n\n    if (isMouse) {\n      data.style.top = this.contextmenu.top;\n      data.style.left = this.contextmenu.left;\n    } else {\n      data.style.top += 10;\n      data.style.left += 10;\n    }\n\n    data.id = generateID();\n    this.addComponent(data);\n    this.recordSnapshot();\n    this.copyData = null;\n  }\n\n  addComponent(component: ComponentBaseData, index?: number) {\n    if (index !== undefined) {\n      this.componentData.splice(index, 0, component);\n    } else {\n      this.componentData.push(component);\n    }\n  }\n\n  cut() {\n    if (!this.curComponent) {\n      this.message.warning('è¯·éæ©ç»ä»¶');\n      return;\n    }\n\n    if (this.copyData) {\n      this.addComponent(this.copyData.data, this.copyData.index);\n      if (this.curComponentIndex >= this.copyData.index) {\n        // å¦æå½åç»ä»¶ç´¢å¼å¤§äºç­äºæå¥ç´¢å¼ï¼éè¦å ä¸ï¼å ä¸ºå½åç»ä»¶å¾åç§»äºä¸ä½\n        this.curComponentIndex++;\n      }\n    }\n    this.copy();\n    this.deleteCurComponent();\n  }\n\n  clearCanvas() {\n    this.componentData = [];\n  }\n\n  restore(data?: StorageData) {\n    // ç¨ä¿å­çæ°æ®æ¢å¤ç»å¸\n    if (data) {\n      this.componentData = this.resetID(data.canvasData);\n      this.canvasStyleData = data.canvasStyle;\n    } else {\n      if (localStorage.getItem('canvasData')) {\n        this.componentData = this.resetID(\n          JSON.parse(localStorage.getItem('canvasData'))\n        );\n      }\n\n      if (localStorage.getItem('canvasStyle')) {\n        this.canvasStyleData = JSON.parse(localStorage.getItem('canvasStyle'));\n      }\n    }\n  }\n\n  save() {\n    localStorage.setItem('canvasData', JSON.stringify(this.componentData));\n    localStorage.setItem('canvasStyle', JSON.stringify(this.canvasStyleData));\n    this.message.success('ä¿å­æå');\n    this.$storageData.next({\n      canvasData: this.componentData,\n      canvasStyle: this.canvasStyleData,\n    });\n  }\n\n  resetID(data) {\n    data.forEach((item) => {\n      item.id = generateID();\n    });\n\n    return data;\n  }\n\n  setEditMode(type: EditModeType) {\n    this.editMode = type;\n  }\n}\n","import {\n  Component,\n  EventEmitter,\n  Input,\n  OnInit,\n  Output,\n  ViewEncapsulation,\n} from '@angular/core';\nimport { ComponentDataService } from './core/component/component-data.service';\nimport { StorageData } from './types/component-type';\n\n@Component({\n  selector: 'lib-ngx-visual-drag',\n  template: ` <lib-home [data]=\"data\"></lib-home> `,\n  styleUrls: ['./index.scss'],\n  encapsulation: ViewEncapsulation.None,\n})\nexport class NgxVisualDragComponent implements OnInit {\n  @Input() data: StorageData;\n  @Output() onDataSave = new EventEmitter<StorageData>();\n  constructor(private componentDataService: ComponentDataService) {}\n\n  ngOnInit(): void {\n    this.componentDataService.$storageData.subscribe((x) => {\n      this.onDataSave.emit(x);\n    });\n  }\n}\n","// å¬å±æ ·å¼\r\nconst commonStyle = {\r\n  rotate: '',\r\n  opacity: 1,\r\n};\r\n\r\n// ç¼è¾å¨å·¦ä¾§ç»ä»¶åè¡¨\r\nconst list = [\r\n  {\r\n    component: 'v-text',\r\n    label: 'æå­',\r\n    propValue: 'æå­',\r\n    icon: 'el-icon-edit',\r\n    animations: [],\r\n    events: {},\r\n    style: {\r\n      width: 200,\r\n      height: 33,\r\n      fontSize: 14,\r\n      fontWeight: 500,\r\n      lineHeight: '',\r\n      letterSpacing: 0,\r\n      textAlign: '',\r\n      color: '',\r\n    },\r\n  },\r\n  {\r\n    component: 'v-button',\r\n    label: 'æé®',\r\n    propValue: 'æé®',\r\n    icon: 'el-icon-thumb',\r\n    animations: [],\r\n    events: {},\r\n    style: {\r\n      width: 100,\r\n      height: 34,\r\n      borderWidth: '',\r\n      borderColor: '',\r\n      borderRadius: '',\r\n      fontSize: 14,\r\n      fontWeight: 500,\r\n      lineHeight: '',\r\n      letterSpacing: 0,\r\n      textAlign: '',\r\n      color: '',\r\n      backgroundColor: '',\r\n    },\r\n  },\r\n  {\r\n    component: 'Picture',\r\n    label: 'å¾ç',\r\n    icon: 'el-icon-picture',\r\n    propValue: './../../assets/title.jpg',\r\n    animations: [],\r\n    events: {},\r\n    style: {\r\n      width: 300,\r\n      height: 200,\r\n      borderRadius: '',\r\n    },\r\n  },\r\n];\r\n\r\nlist.forEach((item) => {\r\n  item.style = { ...item.style, ...commonStyle };\r\n});\r\n\r\nexport default list;\r\n","import { Component, Input, OnInit, ViewEncapsulation } from '@angular/core';\nimport { ComponentDataService } from '../../core/component/component-data.service';\nimport componentList from '../../core/custom-component/component-list';\nimport { StorageData } from '../../types/component-type';\nimport generateID from '../../utils/generateID';\nimport { deepCopy } from '../../utils/utils';\n\n@Component({\n  selector: 'lib-home',\n  templateUrl: './home.component.html',\n  styleUrls: ['./home.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n})\nexport class HomeComponent implements OnInit {\n  @Input() data: StorageData;\n  constructor(public componentDataService: ComponentDataService) {}\n\n  ngOnInit(): void {\n    this.componentDataService.restore(this.data);\n  }\n\n  handleDrop(e) {\n    e.preventDefault();\n    e.stopPropagation();\n    const component = deepCopy(componentList[e.dataTransfer.getData('index')]);\n    component.style.top = e.offsetY;\n    component.style.left = e.offsetX;\n    component.id = generateID();\n    this.componentDataService.componentData.push(component);\n    this.componentDataService.recordSnapshot();\n  }\n\n  handleDragOver(e) {\n    e.preventDefault();\n    e.dataTransfer.dropEffect = 'copy';\n  }\n\n  deselectCurComponent() {\n    this.componentDataService.curComponent = null;\n    this.componentDataService.curComponentIndex = null;\n    this.componentDataService.hideContextMenu();\n  }\n}\n","import { Component, OnInit, ViewEncapsulation } from '@angular/core';\nimport { NzMessageService } from 'ng-zorro-antd/message';\nimport { ComponentDataService } from '../../core/component/component-data.service';\n\n@Component({\n  selector: 'toolbar',\n  templateUrl: './toolbar.component.html',\n  styleUrls: ['./toolbar.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n})\nexport class ToolbarComponent implements OnInit {\n  isShowPreview: boolean = false;\n  constructor(\n    public componentDataService: ComponentDataService,\n    private message: NzMessageService\n  ) {}\n\n  ngOnInit(): void {}\n\n  redo() {\n    this.componentDataService.redo();\n  }\n\n  undo() {\n    this.componentDataService.undo();\n  }\n\n  save() {\n    this.componentDataService.save();\n  }\n\n  clearCanvas() {\n    this.componentDataService.clearCanvas();\n  }\n\n  preview() {\n    this.isShowPreview = true;\n    this.componentDataService.setEditMode('read');\n  }\n\n  closePreview() {\n    this.isShowPreview = false;\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { NzButtonModule } from 'ng-zorro-antd/button';\nimport { NzInputModule } from 'ng-zorro-antd/input';\nimport { FormsModule } from '@angular/forms';\nimport { NzMessageModule } from 'ng-zorro-antd/message';\nimport { NzLayoutModule } from 'ng-zorro-antd/layout';\nimport { NzTabsModule } from 'ng-zorro-antd/tabs';\nimport { NzSelectModule } from 'ng-zorro-antd/select';\n\n//#region\nconst list = [\n  NzButtonModule,\n  NzInputModule,\n  NzMessageModule,\n  NzLayoutModule,\n  NzTabsModule,\n  NzSelectModule,\n];\n//#endregion\n\n//#region\nconst common = [CommonModule, FormsModule];\n//#endregion\n\n@NgModule({\n  declarations: [],\n  imports: [...common, ...list],\n  exports: [common, ...list],\n})\nexport class SharedModule {}\n","import { Component, OnInit } from '@angular/core';\nimport list from './../../core/custom-component/component-list';\n\n@Component({\n  selector: 'component-list',\n  templateUrl: './component-list.component.html',\n  styleUrls: ['./component-list.component.scss']\n})\nexport class ComponentListComponent implements OnInit {\n  componentList = list;\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n  handleDragStart(e) {\n    e.dataTransfer.setData('index', e.target.dataset.index);\n  }\n\n}\n\n\n","export default function getStyle(style, filter = []) {\r\n  const needUnit = [\r\n    'fontSize',\r\n    'width',\r\n    'height',\r\n    'top',\r\n    'left',\r\n    'borderWidth',\r\n    'borderRadius',\r\n  ];\r\n\r\n  const result = {};\r\n  Object.keys(style).forEach((key) => {\r\n    if (!filter.includes(key)) {\r\n      if (key != 'rotate') {\r\n        result[key] = style[key];\r\n\r\n        if (needUnit.includes(key)) {\r\n          result[key] += 'px';\r\n        }\r\n      } else {\r\n        result['transform'] = key + '(' + style[key] + 'deg)';\r\n      }\r\n    }\r\n  });\r\n\r\n  return result;\r\n}\r\n","import { Component, OnInit, ViewEncapsulation } from '@angular/core';\nimport { ComponentDataService } from '../../core/component/component-data.service';\nimport { ComponentBaseStyle } from '../../types/component-type';\nimport getStyle from '../../utils/style';\n\n@Component({\n  selector: 'editor',\n  templateUrl: './editor.component.html',\n  styleUrls: ['./editor.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n})\nexport class EditorComponent implements OnInit {\n  isEdit: boolean = false;\n  constructor(public componentDataService: ComponentDataService) {}\n\n  ngOnInit(): void {}\n\n  handleContextMenu(e) {\n    e.stopPropagation();\n    e.preventDefault();\n    // è®¡ç®èåç¸å¯¹äºç¼è¾å¨çä½ç§»\n    let target = e.target;\n    let top = e.offsetY;\n    let left = e.offsetX;\n    while (!target.className.includes('editor')) {\n      left += target.offsetLeft;\n      top += target.offsetTop;\n      target = target.parentNode;\n    }\n    this.componentDataService.contextmenu = {\n      show: true,\n      top,\n      left,\n    };\n  }\n\n  getComponentStyle(style: ComponentBaseStyle) {\n    return getStyle(style, ['top', 'left', 'width', 'height', 'rotate']);\n  }\n}\n","// è§åº¦è½¬å¼§åº¦\r\n// Math.PI = 180 åº¦\r\nfunction angleToRadian(angle) {\r\n    return angle * Math.PI / 180\r\n}\r\n\r\n/**\r\n * è®¡ç®æ ¹æ®åå¿æè½¬åçç¹çåæ \r\n * @param   {Object}  point  æè½¬åçç¹åæ \r\n * @param   {Object}  center æè½¬ä¸­å¿\r\n * @param   {Number}  rotate æè½¬çè§åº¦\r\n * @return  {Object}         æè½¬åçåæ \r\n * https://www.zhihu.com/question/67425734/answer/252724399 æè½¬ç©éµå¬å¼\r\n */\r\nexport function calculateRotatedPointCoordinate(point, center, rotate) {\r\n    /**\r\n     * æè½¬å¬å¼ï¼\r\n     *  ç¹a(x, y)\r\n     *  æè½¬ä¸­å¿c(x, y)\r\n     *  æè½¬åç¹n(x, y)\r\n     *  æè½¬è§åº¦Î¸                tan ??\r\n     * nx = cosÎ¸ * (ax - cx) - sinÎ¸ * (ay - cy) + cx\r\n     * ny = sinÎ¸ * (ax - cx) + cosÎ¸ * (ay - cy) + cy\r\n     */\r\n\r\n    return {\r\n        x: (point.x - center.x) * Math.cos(angleToRadian(rotate)) - (point.y - center.y) * Math.sin(angleToRadian(rotate)) + center.x,\r\n        y: (point.x - center.x) * Math.sin(angleToRadian(rotate)) + (point.y - center.y) * Math.cos(angleToRadian(rotate)) + center.y,\r\n    }\r\n}\r\n\r\n/**\r\n * è·åæè½¬åçç¹åæ ï¼å«ä¸ªç¹ä¹ä¸ï¼\r\n * @param  {Object} style  æ ·å¼\r\n * @param  {Object} center ç»ä»¶ä¸­å¿ç¹\r\n * @param  {String} name   ç¹åç§°\r\n * @return {Object}        æè½¬åçç¹åæ \r\n */\r\nexport function getRotatedPointCoordinate(style, center, name) {\r\n    let point // point æ¯æªæè½¬åçåæ \r\n    switch (name) {\r\n        case 't':\r\n            point = {\r\n                x: style.left + (style.width / 2),\r\n                y: style.top,\r\n            }\r\n\r\n            break\r\n        case 'b':\r\n            point = {\r\n                x: style.left + (style.width / 2),\r\n                y: style.top + style.height,\r\n            }\r\n\r\n            break\r\n        case 'l':\r\n            point = {\r\n                x: style.left,\r\n                y: style.top + style.height / 2,\r\n            }\r\n\r\n            break\r\n        case 'r':\r\n            point = {\r\n                x: style.left + style.width,\r\n                y: style.top + style.height / 2,\r\n            }\r\n\r\n            break\r\n        case 'lt':\r\n            point = {\r\n                x: style.left,\r\n                y: style.top,\r\n            }\r\n\r\n            break\r\n        case 'rt':\r\n            point = {\r\n                x: style.left + style.width,\r\n                y: style.top,\r\n            }\r\n\r\n            break\r\n        case 'lb':\r\n            point = {\r\n                x: style.left,\r\n                y: style.top + style.height,\r\n            }\r\n\r\n            break\r\n        default: // rb\r\n            point = {\r\n                x: style.left + style.width,\r\n                y: style.top+ style.height,\r\n            }\r\n            \r\n            break\r\n    }\r\n\r\n    return calculateRotatedPointCoordinate(point, center, style.rotate)\r\n}\r\n\r\n// æ±ä¸¤ç¹ä¹é´çä¸­ç¹åæ \r\nexport function getCenterPoint(p1, p2) {\r\n    return {\r\n        x: p1.x + ((p2.x - p1.x) / 2),\r\n        y: p1.y + ((p2.y - p1.y) / 2),\r\n    }\r\n}\r\n\r\nexport function sin(rotate) {\r\n    return Math.abs(Math.sin(angleToRadian(rotate)))\r\n}\r\n  \r\nexport function cos(rotate) {\r\n    return Math.abs(Math.cos(angleToRadian(rotate)))\r\n}","import { calculateRotatedPointCoordinate, getCenterPoint } from './translate';\r\n\r\nconst funcs = {\r\n  lt: calculateLeftTop,\r\n  t: calculateTop,\r\n  rt: calculateRightTop,\r\n  r: calculateRight,\r\n  rb: calculateRightBottom,\r\n  b: calculateBottom,\r\n  lb: calculateLeftBottom,\r\n  l: calculateLeft,\r\n};\r\n\r\nfunction calculateLeftTop(style, curPositon, pointInfo) {\r\n  const { symmetricPoint } = pointInfo;\r\n  const newCenterPoint = getCenterPoint(curPositon, symmetricPoint);\r\n  const newTopLeftPoint = calculateRotatedPointCoordinate(\r\n    curPositon,\r\n    newCenterPoint,\r\n    -style.rotate\r\n  );\r\n  const newBottomRightPoint = calculateRotatedPointCoordinate(\r\n    symmetricPoint,\r\n    newCenterPoint,\r\n    -style.rotate\r\n  );\r\n\r\n  const newWidth = newBottomRightPoint.x - newTopLeftPoint.x;\r\n  const newHeight = newBottomRightPoint.y - newTopLeftPoint.y;\r\n  if (newWidth > 0 && newHeight > 0) {\r\n    style.width = Math.round(newWidth);\r\n    style.height = Math.round(newHeight);\r\n    style.left = Math.round(newTopLeftPoint.x);\r\n    style.top = Math.round(newTopLeftPoint.y);\r\n  }\r\n}\r\n\r\nfunction calculateTop(style, curPositon, pointInfo) {\r\n  const { symmetricPoint, curPoint } = pointInfo;\r\n  const rotatedcurPositon = calculateRotatedPointCoordinate(\r\n    curPositon,\r\n    curPoint,\r\n    -style.rotate\r\n  );\r\n  const rotatedTopMiddlePoint = calculateRotatedPointCoordinate(\r\n    {\r\n      x: curPoint.x,\r\n      y: rotatedcurPositon.y,\r\n    },\r\n    curPoint,\r\n    style.rotate\r\n  );\r\n\r\n  // å¾è¡å®ç\r\n  const newHeight = Math.sqrt(\r\n    (rotatedTopMiddlePoint.x - symmetricPoint.x) ** 2 +\r\n      (rotatedTopMiddlePoint.y - symmetricPoint.y) ** 2\r\n  );\r\n\r\n  if (newHeight > 0) {\r\n    const newCenter = {\r\n      x:\r\n        rotatedTopMiddlePoint.x -\r\n        (rotatedTopMiddlePoint.x - symmetricPoint.x) / 2,\r\n      y:\r\n        rotatedTopMiddlePoint.y +\r\n        (symmetricPoint.y - rotatedTopMiddlePoint.y) / 2,\r\n    };\r\n\r\n    style.height = Math.round(newHeight);\r\n    style.top = Math.round(newCenter.y - newHeight / 2);\r\n    style.left = Math.round(newCenter.x - style.width / 2);\r\n  }\r\n}\r\n\r\nfunction calculateRight(style, curPositon, pointInfo) {\r\n  const { symmetricPoint, curPoint } = pointInfo;\r\n  const rotatedcurPositon = calculateRotatedPointCoordinate(\r\n    curPositon,\r\n    curPoint,\r\n    -style.rotate\r\n  );\r\n  const rotatedRightMiddlePoint = calculateRotatedPointCoordinate(\r\n    {\r\n      x: rotatedcurPositon.x,\r\n      y: curPoint.y,\r\n    },\r\n    curPoint,\r\n    style.rotate\r\n  );\r\n\r\n  const newWidth = Math.sqrt(\r\n    (rotatedRightMiddlePoint.x - symmetricPoint.x) ** 2 +\r\n      (rotatedRightMiddlePoint.y - symmetricPoint.y) ** 2\r\n  );\r\n  if (newWidth > 0) {\r\n    const newCenter = {\r\n      x:\r\n        rotatedRightMiddlePoint.x -\r\n        (rotatedRightMiddlePoint.x - symmetricPoint.x) / 2,\r\n      y:\r\n        rotatedRightMiddlePoint.y +\r\n        (symmetricPoint.y - rotatedRightMiddlePoint.y) / 2,\r\n    };\r\n\r\n    style.width = Math.round(newWidth);\r\n    style.top = Math.round(newCenter.y - style.height / 2);\r\n    style.left = Math.round(newCenter.x - newWidth / 2);\r\n  }\r\n}\r\n\r\nfunction calculateBottom(style, curPositon, pointInfo) {\r\n  const { symmetricPoint, curPoint } = pointInfo;\r\n  const rotatedcurPositon = calculateRotatedPointCoordinate(\r\n    curPositon,\r\n    curPoint,\r\n    -style.rotate\r\n  );\r\n  const rotatedBottomMiddlePoint = calculateRotatedPointCoordinate(\r\n    {\r\n      x: curPoint.x,\r\n      y: rotatedcurPositon.y,\r\n    },\r\n    curPoint,\r\n    style.rotate\r\n  );\r\n\r\n  const newHeight = Math.sqrt(\r\n    (rotatedBottomMiddlePoint.x - symmetricPoint.x) ** 2 +\r\n      (rotatedBottomMiddlePoint.y - symmetricPoint.y) ** 2\r\n  );\r\n  if (newHeight > 0) {\r\n    const newCenter = {\r\n      x:\r\n        rotatedBottomMiddlePoint.x -\r\n        (rotatedBottomMiddlePoint.x - symmetricPoint.x) / 2,\r\n      y:\r\n        rotatedBottomMiddlePoint.y +\r\n        (symmetricPoint.y - rotatedBottomMiddlePoint.y) / 2,\r\n    };\r\n    style.height = Math.round(newHeight);\r\n    style.top = Math.round(newCenter.y - newHeight / 2);\r\n    style.left = Math.round(newCenter.x - style.width / 2);\r\n  }\r\n}\r\n\r\nfunction calculateLeft(style, curPositon, pointInfo) {\r\n  const { symmetricPoint, curPoint } = pointInfo;\r\n  const rotatedcurPositon = calculateRotatedPointCoordinate(\r\n    curPositon,\r\n    curPoint,\r\n    -style.rotate\r\n  );\r\n  const rotatedLeftMiddlePoint = calculateRotatedPointCoordinate(\r\n    {\r\n      x: rotatedcurPositon.x,\r\n      y: curPoint.y,\r\n    },\r\n    curPoint,\r\n    style.rotate\r\n  );\r\n\r\n  const newWidth = Math.sqrt(\r\n    (rotatedLeftMiddlePoint.x - symmetricPoint.x) ** 2 +\r\n      (rotatedLeftMiddlePoint.y - symmetricPoint.y) ** 2\r\n  );\r\n  if (newWidth > 0) {\r\n    const newCenter = {\r\n      x:\r\n        rotatedLeftMiddlePoint.x -\r\n        (rotatedLeftMiddlePoint.x - symmetricPoint.x) / 2,\r\n      y:\r\n        rotatedLeftMiddlePoint.y +\r\n        (symmetricPoint.y - rotatedLeftMiddlePoint.y) / 2,\r\n    };\r\n\r\n    style.width = Math.round(newWidth);\r\n    style.top = Math.round(newCenter.y - style.height / 2);\r\n    style.left = Math.round(newCenter.x - newWidth / 2);\r\n  }\r\n}\r\n\r\nfunction calculateRightTop(style, curPositon, pointInfo) {\r\n  const { symmetricPoint } = pointInfo;\r\n  const newCenterPoint = getCenterPoint(curPositon, symmetricPoint);\r\n  const newTopRightPoint = calculateRotatedPointCoordinate(\r\n    curPositon,\r\n    newCenterPoint,\r\n    -style.rotate\r\n  );\r\n  const newBottomLeftPoint = calculateRotatedPointCoordinate(\r\n    symmetricPoint,\r\n    newCenterPoint,\r\n    -style.rotate\r\n  );\r\n\r\n  const newWidth = newTopRightPoint.x - newBottomLeftPoint.x;\r\n  const newHeight = newBottomLeftPoint.y - newTopRightPoint.y;\r\n  if (newWidth > 0 && newHeight > 0) {\r\n    style.width = Math.round(newWidth);\r\n    style.height = Math.round(newHeight);\r\n    style.left = Math.round(newBottomLeftPoint.x);\r\n    style.top = Math.round(newTopRightPoint.y);\r\n  }\r\n}\r\n\r\nfunction calculateRightBottom(style, curPositon, pointInfo) {\r\n  const { symmetricPoint } = pointInfo;\r\n  const newCenterPoint = getCenterPoint(curPositon, symmetricPoint);\r\n  const newTopLeftPoint = calculateRotatedPointCoordinate(\r\n    symmetricPoint,\r\n    newCenterPoint,\r\n    -style.rotate\r\n  );\r\n  const newBottomRightPoint = calculateRotatedPointCoordinate(\r\n    curPositon,\r\n    newCenterPoint,\r\n    -style.rotate\r\n  );\r\n\r\n  const newWidth = newBottomRightPoint.x - newTopLeftPoint.x;\r\n  const newHeight = newBottomRightPoint.y - newTopLeftPoint.y;\r\n  if (newWidth > 0 && newHeight > 0) {\r\n    style.width = Math.round(newWidth);\r\n    style.height = Math.round(newHeight);\r\n    style.left = Math.round(newTopLeftPoint.x);\r\n    style.top = Math.round(newTopLeftPoint.y);\r\n  }\r\n}\r\n\r\nfunction calculateLeftBottom(style, curPositon, pointInfo) {\r\n  const { symmetricPoint } = pointInfo;\r\n  const newCenterPoint = getCenterPoint(curPositon, symmetricPoint);\r\n  const newTopRightPoint = calculateRotatedPointCoordinate(\r\n    symmetricPoint,\r\n    newCenterPoint,\r\n    -style.rotate\r\n  );\r\n  const newBottomLeftPoint = calculateRotatedPointCoordinate(\r\n    curPositon,\r\n    newCenterPoint,\r\n    -style.rotate\r\n  );\r\n\r\n  const newWidth = newTopRightPoint.x - newBottomLeftPoint.x;\r\n  const newHeight = newBottomLeftPoint.y - newTopRightPoint.y;\r\n  if (newWidth > 0 && newHeight > 0) {\r\n    style.width = Math.round(newWidth);\r\n    style.height = Math.round(newHeight);\r\n    style.left = Math.round(newBottomLeftPoint.x);\r\n    style.top = Math.round(newTopRightPoint.y);\r\n  }\r\n}\r\n\r\nexport default function calculateComponentPositonAndSize(\r\n  name,\r\n  style,\r\n  curPositon,\r\n  pointInfo\r\n) {\r\n  funcs[name](style, curPositon, pointInfo);\r\n}\r\n","import { stringify } from '@angular/compiler/src/util';\nimport { Component, Input, OnInit, ViewEncapsulation } from '@angular/core';\nimport { ComponentDataService } from '../../../core/component/component-data.service';\nimport {\n  ComponentBaseStyle,\n  ComponentBaseData,\n} from '../../../types/component-type';\nimport calculateComponentPositonAndSize from '../../../utils/calculateComponentPositonAndSize';\n\n@Component({\n  selector: 'shape',\n  templateUrl: './shape.component.html',\n  styleUrls: ['./shape.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n})\nexport class ShapeComponent implements OnInit {\n  @Input() active: boolean = false;\n  @Input() element: ComponentBaseData;\n  @Input() defaultStyle: ComponentBaseStyle;\n  @Input() index: number;\n  cursors = {};\n  pointList: string[] = ['lt', 't', 'rt', 'r', 'rb', 'b', 'lb', 'l']; // å«ä¸ªæ¹å\n  initialAngle = {\n    // æ¯ä¸ªç¹å¯¹åºçåå§è§åº¦\n    lt: 0,\n    t: 45,\n    rt: 90,\n    r: 135,\n    rb: 180,\n    b: 225,\n    lb: 270,\n    l: 315,\n  };\n  angleToCursor = [\n    // æ¯ä¸ªèå´çè§åº¦å¯¹åºçåæ \n    { start: 338, end: 23, cursor: 'nw' },\n    { start: 23, end: 68, cursor: 'n' },\n    { start: 68, end: 113, cursor: 'ne' },\n    { start: 113, end: 158, cursor: 'e' },\n    { start: 158, end: 203, cursor: 'se' },\n    { start: 203, end: 248, cursor: 's' },\n    { start: 248, end: 293, cursor: 'sw' },\n    { start: 293, end: 338, cursor: 'w' },\n  ];\n  constructor(public componentDataService: ComponentDataService) {}\n\n  ngOnInit(): void {}\n\n  getShapeStyle(style: ComponentBaseStyle) {\n    const result = { ...style };\n    if (result.width) {\n      result.width += 'px';\n    }\n\n    if (result.height) {\n      result.height += 'px';\n    }\n\n    if (result.top) {\n      result.top += 'px';\n    }\n\n    if (result.left) {\n      result.left += 'px';\n    }\n\n    if (result.rotate) {\n      result['transform'] = 'rotate(' + result.rotate + 'deg)';\n    }\n\n    return result;\n  }\n\n  handleMouseDownOnShape(e) {\n    if (this.element.component != 'v-text') {\n      e.preventDefault();\n    }\n\n    e.stopPropagation();\n    this.componentDataService.curComponent = this.element;\n    this.componentDataService.curComponentIndex = this.index;\n    this.cursors = this.getCursor(); // æ ¹æ®æè½¬è§åº¦è·ååæ ä½ç½®\n    const pos = { ...this.defaultStyle };\n    const startY = e.clientY;\n    const startX = e.clientX;\n    // å¦æç´æ¥ä¿®æ¹å±æ§ï¼å¼çç±»åä¼åä¸ºå­ç¬¦ä¸²ï¼æä»¥è¦è½¬ä¸ºæ°å¼å\n    const startTop = Number(pos.top);\n    const startLeft = Number(pos.left);\n\n    // å¦æåç´ æ²¡æç§»å¨ï¼åä¸ä¿å­å¿«ç§\n    let hasMove = false;\n    const move = (moveEvent) => {\n      hasMove = true;\n      const curX = moveEvent.clientX;\n      const curY = moveEvent.clientY;\n      pos.top = curY - startY + startTop;\n      pos.left = curX - startX + startLeft;\n\n      // ä¿®æ¹å½åç»ä»¶æ ·å¼\n      this.componentDataService.$shapeStyle.next(pos);\n      // ç­æ´æ°å®å½åç»ä»¶çæ ·å¼å¹¶ç»å¶å°å±å¹ååå¤æ­æ¯å¦éè¦å¸é\n      // å¦æä¸ä½¿ç¨ $nextTickï¼å¸éåå°æ æ³ç§»å¨\n      // this.$nextTick(() => {\n      //   // è§¦ååç´ ç§»å¨äºä»¶ï¼ç¨äºæ¾ç¤ºæ çº¿ãå¸éåè½\n      //   // åé¢ä¸¤ä¸ªåæ°ä»£è¡¨é¼ æ ç§»å¨æ¹å\n      //   // curY - startY > 0 true è¡¨ç¤ºåä¸ç§»å¨ false è¡¨ç¤ºåä¸ç§»å¨\n      //   // curX - startX > 0 true è¡¨ç¤ºåå³ç§»å¨ false è¡¨ç¤ºåå·¦ç§»å¨\n      //   eventBus.$emit('move', curY - startY > 0, curX - startX > 0);\n      // })\n      this.componentDataService.notification.next({\n        event: 'move',\n        value: [curY - startY > 0, curX - startX > 0],\n      });\n    };\n\n    const up = () => {\n      hasMove && this.componentDataService.recordSnapshot();\n      // è§¦ååç´ åæ­¢ç§»å¨äºä»¶ï¼ç¨äºéèæ çº¿\n      // eventBus.$emit('unmove')\n      this.componentDataService.notification.next({\n        event: 'unmove',\n      });\n      document.removeEventListener('mousemove', move);\n      document.removeEventListener('mouseup', up);\n    };\n\n    document.addEventListener('mousemove', move);\n    document.addEventListener('mouseup', up);\n  }\n\n  selectCurComponent(e) {\n    e.stopPropagation();\n    e.preventDefault();\n    this.componentDataService.hideContextMenu();\n  }\n\n  handleRotate() {}\n\n  handleMouseDownOnPoint(point: string, e) {\n    const downEvent = window.event;\n    downEvent.stopPropagation();\n    downEvent.preventDefault();\n\n    const style = { ...this.defaultStyle };\n    const center = {\n      x: style.left + style.width / 2,\n      y: style.top + style.height / 2,\n    };\n\n    // è·åç»å¸ä½ç§»ä¿¡æ¯\n    const editorRectInfo = document\n      .querySelector('#editor')\n      .getBoundingClientRect();\n\n    // å½åç¹å»åæ \n    const curPoint = {\n      x: e.clientX - editorRectInfo.left,\n      y: e.clientY - editorRectInfo.top,\n    };\n\n    // è·åå¯¹ç§°ç¹çåæ \n    const symmetricPoint = {\n      x: center.x - (curPoint.x - center.x),\n      y: center.y - (curPoint.y - center.y),\n    };\n\n    // æ¯å¦éè¦ä¿å­å¿«ç§\n    let needSave = false;\n    let isFirst = true;\n    const move = (moveEvent) => {\n      // ç¬¬ä¸æ¬¡ç¹å»æ¶ä¹ä¼è§¦å moveï¼æä»¥ä¼æâåç¹å»ç»ä»¶ä½æªç§»å¨ï¼ç»ä»¶çå¤§å°å´æ¹åäºâçæåµåç\n      // å æ­¤ç¬¬ä¸æ¬¡ç¹å»æ¶ä¸è§¦å move äºä»¶\n      if (isFirst) {\n        isFirst = false;\n        return;\n      }\n\n      needSave = true;\n      const curPositon = {\n        x: moveEvent.clientX - editorRectInfo.left,\n        y: moveEvent.clientY - editorRectInfo.top,\n      };\n\n      calculateComponentPositonAndSize(point, style, curPositon, {\n        center,\n        curPoint,\n        symmetricPoint,\n      });\n\n      this.componentDataService.$shapeStyle.next(style);\n    };\n\n    const up = () => {\n      document.removeEventListener('mousemove', move);\n      document.removeEventListener('mouseup', up);\n      needSave && this.componentDataService.recordSnapshot();\n    };\n\n    document.addEventListener('mousemove', move);\n    document.addEventListener('mouseup', up);\n  }\n\n  getPointStyle(\n    point: string\n  ): {\n    marginLeft: string;\n    marginTop: string;\n    left: string;\n    top: string;\n    cursor: string;\n  } {\n    const { width, height } = this.defaultStyle;\n    const hasT = /t/.test(point);\n    const hasB = /b/.test(point);\n    const hasL = /l/.test(point);\n    const hasR = /r/.test(point);\n    let newLeft = 0;\n    let newTop = 0;\n\n    // åä¸ªè§çç¹\n    if (point.length === 2) {\n      newLeft = hasL ? 0 : width;\n      newTop = hasT ? 0 : height;\n    } else {\n      // ä¸ä¸ä¸¤ç¹çç¹ï¼å®½åº¦å±ä¸­\n      if (hasT || hasB) {\n        newLeft = width / 2;\n        newTop = hasT ? 0 : height;\n      }\n\n      // å·¦å³ä¸¤è¾¹çç¹ï¼é«åº¦å±ä¸­\n      if (hasL || hasR) {\n        newLeft = hasL ? 0 : width;\n        newTop = Math.floor(height / 2);\n      }\n    }\n\n    const style = {\n      marginLeft: hasR ? '-4px' : '-4px',\n      marginTop: '-4px',\n      left: `${newLeft}px`,\n      top: `${newTop}px`,\n      cursor: this.cursors[point],\n    };\n\n    return style;\n  }\n\n  getCursor() {\n    const { angleToCursor, initialAngle, pointList } = this;\n    const curComponent = this.componentDataService.curComponent;\n    const rotate = (curComponent.style.rotate + 360) % 360; // é²æ­¢è§åº¦æè´æ°ï¼æä»¥ + 360\n    const result = {};\n    let lastMatchIndex = -1; // ä»ä¸ä¸ä¸ªå½ä¸­çè§åº¦çç´¢å¼å¼å§å¹éä¸ä¸ä¸ªï¼éä½æ¶é´å¤æåº¦\n    pointList.forEach((point) => {\n      const angle = (initialAngle[point] + rotate) % 360;\n      const len = angleToCursor.length;\n      while (true) {\n        lastMatchIndex = (lastMatchIndex + 1) % len;\n        const angleLimit = angleToCursor[lastMatchIndex];\n        if (angle < 23 || angle >= 338) {\n          result[point] = 'nw-resize';\n          return;\n        }\n\n        if (angleLimit.start <= angle && angle < angleLimit.end) {\n          result[point] = angleLimit.cursor + '-resize';\n          return;\n        }\n      }\n    });\n\n    return result;\n  }\n}\n","import { Component, Input, OnInit, ViewEncapsulation } from '@angular/core';\n\n@Component({\n  selector: 'v-button',\n  template: `\n    <button class=\"v-button\" [ngStyle]=\"vStyle\" [class.absoulte]=\"absoulte\">\n      {{ propValue }}\n    </button>\n  `,\n  styleUrls: ['./v-button.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n})\nexport class VButtonComponent implements OnInit {\n  @Input() propValue: string = '';\n  @Input() vStyle = {};\n  @Input() absoulte: boolean = false;\n  constructor() {}\n\n  ngOnInit(): void {}\n}\n","import { Component, OnInit, ViewEncapsulation } from '@angular/core';\nimport { ComponentDataService } from '../../../core/component/component-data.service';\nimport { deepCopy } from '../../../utils/utils';\n\n@Component({\n  selector: 'context-menu',\n  templateUrl: './context-menu.component.html',\n  styleUrls: ['./context-menu.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n})\nexport class ContextMenuComponent implements OnInit {\n  get menuShow(): boolean {\n    return this.componentDataService.contextmenu.show;\n  }\n  get menuTop(): number {\n    return this.componentDataService.contextmenu.top;\n  }\n  get menuLeft(): number {\n    return this.componentDataService.contextmenu.left;\n  }\n  constructor(public componentDataService: ComponentDataService) {}\n\n  ngOnInit(): void {}\n\n  copy() {\n    this.componentDataService.copy();\n  }\n\n  paste() {\n    this.componentDataService.paste(true);\n  }\n\n  cut() {\n    this.componentDataService.cut();\n  }\n\n  deleteComponent() {\n    this.componentDataService.deleteCurComponent();\n    this.componentDataService.recordSnapshot();\n  }\n\n  topComponent() {\n    this.componentDataService.topComponent();\n    this.componentDataService.recordSnapshot();\n  }\n\n  bottomComponent() {\n    this.componentDataService.bottomComponent();\n    this.componentDataService.recordSnapshot();\n  }\n\n  upComponent() {\n    this.componentDataService.upComponent();\n    this.componentDataService.recordSnapshot();\n  }\n\n  downComponent() {\n    this.componentDataService.downComponent();\n    this.componentDataService.recordSnapshot();\n  }\n}\n","import {\n  AfterContentInit,\n  Component,\n  ElementRef,\n  OnInit,\n  QueryList,\n  ViewChildren,\n  ViewEncapsulation,\n} from '@angular/core';\nimport { ComponentDataService } from '../../../core/component/component-data.service';\nimport { cos, sin } from '../../../utils/translate';\n\n@Component({\n  selector: 'Markline',\n  templateUrl: './markline.component.html',\n  styleUrls: ['./markline.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n})\nexport class MarklineComponent implements OnInit, AfterContentInit {\n  lines = ['xt', 'xc', 'xb', 'yl', 'yc', 'yr']; // åå«å¯¹åºä¸æ¡æ¨ªçº¿åä¸æ¡ç«çº¿\n  diff = 3; // ç¸è· dff åç´ å°èªå¨å¸é\n  lineStatus = {\n    xt: false,\n    xc: false,\n    xb: false,\n    yl: false,\n    yc: false,\n    yr: false,\n  };\n  @ViewChildren('lines') $refs: QueryList<any>;\n  constructor(public componentDataService: ComponentDataService) {}\n\n  ngAfterContentInit(): void {}\n\n  ngOnInit(): void {\n    this.componentDataService.notification.subscribe((x) => {\n      if (x.event === 'move') {\n        this.showLine(x.value[0], x.value[1]);\n      }\n      if (x.event === 'unmove') {\n        this.hideLine();\n      }\n    });\n  }\n\n  showLine(isDownward, isRightward) {\n    const lines = Array.from(document.querySelectorAll('.line'));\n    const findnode = (type) => {\n      return lines.find((x) => x['dataset'].index === type);\n    };\n    const components = this.componentDataService.componentData;\n    const curComponentStyle = this.translateComponentStyle(\n      this.componentDataService.curComponent.style\n    );\n    const curComponentHalfwidth = curComponentStyle.width / 2;\n    const curComponentHalfHeight = curComponentStyle.height / 2;\n    this.hideLine();\n    components.forEach((component) => {\n      if (component == this.componentDataService.curComponent) return;\n      const componentStyle = this.translateComponentStyle(component.style);\n      const { top, left, bottom, right } = componentStyle;\n      const componentHalfwidth = componentStyle.width / 2;\n      const componentHalfHeight = componentStyle.height / 2;\n      const conditions = {\n        top: [\n          {\n            isNearly: this.isNearly(curComponentStyle.top, top),\n            lineNode: findnode('xt'), // xt\n            line: 'xt',\n            dragShift: top,\n            lineShift: top,\n          },\n          {\n            isNearly: this.isNearly(curComponentStyle.bottom, top),\n            lineNode: findnode('xt'), // xt\n            line: 'xt',\n            dragShift: top - curComponentStyle.height,\n            lineShift: top,\n          },\n          {\n            // ç»ä»¶ä¸ææ½èç¹çä¸­é´æ¯å¦å¯¹é½\n            isNearly: this.isNearly(\n              curComponentStyle.top + curComponentHalfHeight,\n              top + componentHalfHeight\n            ),\n            lineNode: findnode('xc'), // xc\n            line: 'xc',\n            dragShift: top + componentHalfHeight - curComponentHalfHeight,\n            lineShift: top + componentHalfHeight,\n          },\n          {\n            isNearly: this.isNearly(curComponentStyle.top, bottom),\n            lineNode: findnode('xb'), // xb\n            line: 'xb',\n            dragShift: bottom,\n            lineShift: bottom,\n          },\n          {\n            isNearly: this.isNearly(curComponentStyle.bottom, bottom),\n            lineNode: findnode('xb'), // xb\n            line: 'xb',\n            dragShift: bottom - curComponentStyle.height,\n            lineShift: bottom,\n          },\n        ],\n        left: [\n          {\n            isNearly: this.isNearly(curComponentStyle.left, left),\n            lineNode: findnode('yl'), // yl\n            line: 'yl',\n            dragShift: left,\n            lineShift: left,\n          },\n          {\n            isNearly: this.isNearly(curComponentStyle.right, left),\n            lineNode: findnode('yl'), // yl\n            line: 'yl',\n            dragShift: left - curComponentStyle.width,\n            lineShift: left,\n          },\n          {\n            // ç»ä»¶ä¸ææ½èç¹çä¸­é´æ¯å¦å¯¹é½\n            isNearly: this.isNearly(\n              curComponentStyle.left + curComponentHalfwidth,\n              left + componentHalfwidth\n            ),\n            lineNode: findnode('yc'), // yc\n            line: 'yc',\n            dragShift: left + componentHalfwidth - curComponentHalfwidth,\n            lineShift: left + componentHalfwidth,\n          },\n          {\n            isNearly: this.isNearly(curComponentStyle.left, right),\n            lineNode: findnode('yr'), // yr\n            line: 'yr',\n            dragShift: right,\n            lineShift: right,\n          },\n          {\n            isNearly: this.isNearly(curComponentStyle.right, right),\n            lineNode: findnode('yr'), // yr\n            line: 'yr',\n            dragShift: right - curComponentStyle.width,\n            lineShift: right,\n          },\n        ],\n      };\n      const needToShow = [];\n      const { rotate } = this.componentDataService.curComponent.style;\n      Object.keys(conditions).forEach((key) => {\n        // éåç¬¦åçæ¡ä»¶å¹¶å¤ç\n        conditions[key].forEach((condition) => {\n          if (!condition.isNearly) return;\n          // ä¿®æ¹å½åç»ä»¶ä½ç§»\n          this.componentDataService.setShapePosStyle({\n            key,\n            value:\n              rotate != 0\n                ? this.translatecurComponentShift(\n                    key,\n                    condition,\n                    curComponentStyle\n                  )\n                : condition.dragShift,\n          });\n\n          condition.lineNode.style[key] = `${condition.lineShift}px`;\n          needToShow.push(condition.line);\n        });\n      });\n\n      // åä¸æ¹åä¸åæ¶æ¾ç¤ºä¸æ¡çº¿å¯è½ä¸å¤ªç¾è§ï¼å æ­¤ææäºè¿ä¸ªè§£å³æ¹æ¡\n      // åä¸æ¹åä¸ççº¿åªæ¾ç¤ºä¸æ¡ï¼ä¾å¦å¤æ¡æ¨ªæ¡åªæ¾ç¤ºä¸æ¡æ¨ªçº¿\n      if (needToShow.length) {\n        this.chooseTheTureLine(needToShow, isDownward, isRightward);\n      }\n    });\n  }\n\n  translateComponentStyle(style) {\n    style = { ...style };\n    if (style.rotate != 0) {\n      const newWidth =\n        style.width * cos(style.rotate) + style.height * sin(style.rotate);\n      const diffX = (style.width - newWidth) / 2;\n      style.left += diffX;\n      style.right = style.left + newWidth;\n\n      const newHeight =\n        style.height * cos(style.rotate) + style.width * sin(style.rotate);\n      const diffY = (newHeight - style.height) / 2;\n      style.top -= diffY;\n      style.bottom = style.top + newHeight;\n\n      style.width = newWidth;\n      style.height = newHeight;\n    } else {\n      style.bottom = style.top + style.height;\n      style.right = style.left + style.width;\n    }\n\n    return style;\n  }\n\n  hideLine() {\n    Object.keys(this.lineStatus).forEach((line) => {\n      this.lineStatus[line] = false;\n    });\n  }\n\n  isNearly(dragValue, targetValue) {\n    return Math.abs(dragValue - targetValue) <= this.diff;\n  }\n\n  translatecurComponentShift(key, condition, curComponentStyle) {\n    const { width, height } = this.componentDataService.curComponent.style;\n    if (key == 'top') {\n      return Math.round(\n        condition.dragShift - (height - curComponentStyle.height) / 2\n      );\n    }\n\n    return Math.round(\n      condition.dragShift - (width - curComponentStyle.width) / 2\n    );\n  }\n\n  chooseTheTureLine(needToShow, isDownward, isRightward) {\n    // å¦æé¼ æ åå³ç§»å¨ åæä»å³å°å·¦çé¡ºåºæ¾ç¤ºç«çº¿ å¦åæç¸åé¡ºåºæ¾ç¤º\n    // å¦æé¼ æ åä¸ç§»å¨ åæä»ä¸å°ä¸çé¡ºåºæ¾ç¤ºæ¨ªçº¿ å¦åæç¸åé¡ºåºæ¾ç¤º\n    if (isRightward) {\n      if (needToShow.includes('yr')) {\n        this.lineStatus.yr = true;\n      } else if (needToShow.includes('yc')) {\n        this.lineStatus.yc = true;\n      } else if (needToShow.includes('yl')) {\n        this.lineStatus.yl = true;\n      }\n    } else {\n      // eslint-disable-next-line no-lonely-if\n      if (needToShow.includes('yl')) {\n        this.lineStatus.yl = true;\n      } else if (needToShow.includes('yc')) {\n        this.lineStatus.yc = true;\n      } else if (needToShow.includes('yr')) {\n        this.lineStatus.yr = true;\n      }\n    }\n\n    if (isDownward) {\n      if (needToShow.includes('xb')) {\n        this.lineStatus.xb = true;\n      } else if (needToShow.includes('xc')) {\n        this.lineStatus.xc = true;\n      } else if (needToShow.includes('xt')) {\n        this.lineStatus.xt = true;\n      }\n    } else {\n      // eslint-disable-next-line no-lonely-if\n      if (needToShow.includes('xt')) {\n        this.lineStatus.xt = true;\n      } else if (needToShow.includes('xc')) {\n        this.lineStatus.xc = true;\n      } else if (needToShow.includes('xb')) {\n        this.lineStatus.xb = true;\n      }\n    }\n  }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { ComponentDataService } from '../../core/component/component-data.service';\n\n@Component({\n  selector: 'Attr-list',\n  templateUrl: './attr-list.component.html',\n  styleUrls: ['./attr-list.component.scss'],\n})\nexport class AttrListComponent implements OnInit {\n  map = {\n    left: 'x åæ ',\n    top: 'y åæ ',\n    height: 'é«',\n    width: 'å®½',\n    color: 'é¢è²',\n    backgroundColor: 'èæ¯è²',\n    borderWidth: 'è¾¹æ¡å®½åº¦',\n    borderColor: 'è¾¹æ¡é¢è²',\n    borderRadius: 'è¾¹æ¡åå¾',\n    fontSize: 'å­ä½å¤§å°',\n    fontWeight: 'å­ä½ç²ç»',\n    lineHeight: 'è¡é«',\n    letterSpacing: 'å­é´è·',\n    textAlign: 'å¯¹é½æ¹å¼',\n    opacity: 'éæåº¦',\n  };\n  excludes = ['Picture']; // è¿äºç»ä»¶ä¸æ¾ç¤ºåå®¹\n  options = [\n    {\n      label: 'å·¦å¯¹é½',\n      value: 'left',\n    },\n    {\n      label: 'å±ä¸­',\n      value: 'center',\n    },\n    {\n      label: 'å³å¯¹é½',\n      value: 'right',\n    },\n  ];\n\n  get styleKeys(): string[] {\n    return this.componentDataService.curComponent\n      ? Object.keys(this.componentDataService.curComponent.style).filter(\n          (item) => item != 'rotate'\n        )\n      : [];\n  }\n  constructor(public componentDataService: ComponentDataService) {}\n\n  ngOnInit(): void {}\n}\n","import {\n  Component,\n  EventEmitter,\n  Input,\n  OnInit,\n  Output,\n  ViewEncapsulation,\n} from '@angular/core';\nimport { ComponentDataService } from '../../../core/component/component-data.service';\n\n@Component({\n  selector: 'Preview',\n  templateUrl: './preview.component.html',\n  styleUrls: ['./preview.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n})\nexport class PreviewComponent implements OnInit {\n  @Input() isShowPreview: boolean = false;\n  @Output() OutClose = new EventEmitter();\n  constructor(public componentDataService: ComponentDataService) {}\n\n  ngOnInit(): void {}\n\n  close() {\n    this.OutClose.emit();\n  }\n}\n","import {\n  Component,\n  ComponentFactoryResolver,\n  Input,\n  OnChanges,\n  OnInit,\n  SimpleChanges,\n  ViewChild,\n  ViewContainerRef,\n  ViewEncapsulation,\n} from '@angular/core';\nimport {\n  ComponentBaseData,\n  ComponentBaseStyle,\n  ComponentBasicInput,\n} from '../../../types/component-type';\nimport getStyle from '../../../utils/style';\nimport { VButtonComponent } from '../../custom-component/v-button/v-button.component';\n\n@Component({\n  selector: 'Component-wrapper',\n  templateUrl: './component-wrapper.component.html',\n  styleUrls: ['./component-wrapper.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n})\nexport class ComponentWrapperComponent implements OnInit, OnChanges {\n  @Input() config: ComponentBaseData;\n  @ViewChild('viewContainer', { read: ViewContainerRef, static: true })\n  viewContainer: ViewContainerRef;\n  constructor(private componentFactoryResolver: ComponentFactoryResolver) {}\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes.config && changes.config.currentValue) {\n      // this.addComponent();\n    }\n  }\n\n  addComponent() {\n    // let cinstance;\n    // switch (this.config.component) {\n    //   case 'v-button':\n    //     cinstance = VButtonComponent;\n    //     break;\n    //   default:\n    //     break;\n    // }\n    // const componentFactory = this.componentFactoryResolver.resolveComponentFactory(\n    //   cinstance\n    // );\n    // const viewContainerRef = this.viewContainer;\n    // const componentRef = viewContainerRef.createComponent(componentFactory);\n    // (<ComponentBasicInput>(\n    //   componentRef.instance\n    // )).propValue = this.config.propValue;\n    // (<ComponentBasicInput>componentRef.instance).vStyle = this.config.style;\n    // debugger;\n  }\n\n  ngOnInit(): void {}\n\n  handleClick() {}\n\n  getComponentStyle(style: ComponentBaseStyle) {\n    return getStyle(style);\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { NgxVisualDragComponent } from './ngx-visual-drag.component';\nimport { HomeComponent } from './pages/home/home.component';\nimport { ToolbarComponent } from './pages/toolbar/toolbar.component';\nimport { SharedModule } from './shared/shared/shared.module';\nimport { ComponentListComponent } from './pages/component-list/component-list.component';\nimport { EditorComponent } from './pages/editor/editor.component';\nimport { ShapeComponent } from './pages/editor/shape/shape.component';\nimport { VButtonComponent } from './pages/custom-component/v-button/v-button.component';\nimport { ContextMenuComponent } from './pages/editor/context-menu/context-menu.component';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { MarklineComponent } from './pages/editor/markline/markline.component';\nimport { AttrListComponent } from './pages/attr-list/attr-list.component';\nimport { PreviewComponent } from './pages/editor/preview/preview.component';\nimport { ComponentWrapperComponent } from './pages/editor/component-wrapper/component-wrapper.component';\n\n@NgModule({\n  declarations: [\n    NgxVisualDragComponent,\n    HomeComponent,\n    ToolbarComponent,\n    ComponentListComponent,\n    EditorComponent,\n    ShapeComponent,\n    VButtonComponent,\n    ContextMenuComponent,\n    MarklineComponent,\n    AttrListComponent,\n    PreviewComponent,\n    ComponentWrapperComponent,\n  ],\n  imports: [BrowserAnimationsModule, SharedModule],\n  exports: [NgxVisualDragComponent],\n})\nexport class NgxVisualDragModule {}\n","/*\n * Public API Surface of ngx-visual-drag\n */\n\nexport * from './lib/ngx-visual-drag.service';\nexport * from './lib/ngx-visual-drag.component';\nexport * from './lib/ngx-visual-drag.module';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n\nexport {ComponentDataService as Éµa} from './lib/core/component/component-data.service';\nexport {AttrListComponent as Éµj} from './lib/pages/attr-list/attr-list.component';\nexport {ComponentListComponent as Éµd} from './lib/pages/component-list/component-list.component';\nexport {VButtonComponent as Éµg} from './lib/pages/custom-component/v-button/v-button.component';\nexport {ComponentWrapperComponent as Éµl} from './lib/pages/editor/component-wrapper/component-wrapper.component';\nexport {ContextMenuComponent as Éµh} from './lib/pages/editor/context-menu/context-menu.component';\nexport {EditorComponent as Éµe} from './lib/pages/editor/editor.component';\nexport {MarklineComponent as Éµi} from './lib/pages/editor/markline/markline.component';\nexport {PreviewComponent as Éµk} from './lib/pages/editor/preview/preview.component';\nexport {ShapeComponent as Éµf} from './lib/pages/editor/shape/shape.component';\nexport {HomeComponent as Éµb} from './lib/pages/home/home.component';\nexport {ToolbarComponent as Éµc} from './lib/pages/toolbar/toolbar.component';\nexport {SharedModule as Éµm} from './lib/shared/shared/shared.module';"],"names":["componentList","list"],"mappings":"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"}